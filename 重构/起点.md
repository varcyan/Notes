# 重构-起点

## 写在前面

### 什么是好的代码

读代码时，我期望它有良好的结构，能够清晰了解这段代码再做什么。  
好的代码应该拥有可读性、可维护性、稳健性。  
它可以做到最大限度提高生产力。

## 重构是什么

不改变代码外在行为的前提下，对代码做出修改，以改进程序的内部结构。  
是一种经千锤百炼行程的有条不紊的程序整理方法。  
本质上，重构就是在代码写好之后改进它的设计。  

## 重构前置

确保代码拥有可靠的测试；  
**调试方式**：小步修改，运行测试。能够缩小查错范围；

## Step

抽取可分离的逻辑 -> 重构 -> 编译 -> 测试 -> 提交

## method

### 提炼函数

分离不同的点，抽取为独立函数；
变量与返回值定义；
简化函数中变量的命名（风格）；

### 内联变量

移除不必要的参数/变量，譬如有些变量创建了具有局部作用域的临时变量

 1. 内联变量 ???
 2. 移除不再修改的临时变量，改用内联的方式

### 改变函数声明

将函数赋值给临时变量 -> 明确声明函数

### 拆分循环

根据业务将独立的逻辑从循环中拆分出来

### 移动语句

将变量声明挪动到相关代码位置

### 拆分阶段

## 重构 vs 性能

对于重构过程的性能问题，大多数情况忽略它。先完成重构，再做性能优化。

## how

- 把复杂的代码分解为更小的单元
- 好的命名
