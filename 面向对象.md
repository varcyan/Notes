# 面向对象

## 工厂函数

```javascript
// 类似工厂给每个对象创建其各自的属性与功能
function cre(name,age){
  var obj = {};
  
  // 每个对象有自己的名字，性别
  obj.name = name;
  obj.age = age;
  
  // 以及都有跑步的功能
  obj.run = function (){
    console.log('我可以跑步');
  }
  return obj;
}
```
工厂模式会给每个对象单独创建一个自己的功能，即使這个功能是相同的。

## 构造函数

```javascript
function Cre(name,age){
  // 相当于 var obj = {}； this = obj;
  this.name = name;
  this.age = age;
  // 以及隐式返回 return obj;
}

// 通过new调用的Cre是构造函数，创建的实例对象p，這个过程叫做实例化
var p = new Cre();
```

### new

>   一元运算符，使用new调用函数：

-   在函数中隐式创建了一个对象

-   把函数中的this指向创建的对象

-   通过this给对象挂载属性和方法

-   把对象隐式返回，如果显式的使用了return

    -   return后面的值是非对象类型的，则返回隐式创建的对象
    -   return后面的值是对象类型的，就返回return后面的对象

*new*调用函数后返回的是一个对象类型的值

### prototype

>   每创建一个函数，函数下都有一个属性prototype(原型)，其对应的值是一个对象

**作用**
通过这个构造函数创建的对象可以共用prototype里的属性和方法

### \__proto__

>   每个对象都有一个属性\__proto__,指向创建這个对象的构造函数的原型

```javascript
var o = new Object();
o.__proto__ === Object.prototype; //true;
```
### constructor
函数的原型prototype的值是一个对象，初始化会有一个属性为constructor，对应的值为拥有这个原型的函数

*注意：prototype的值是可以修改的，修改了prototype的值，要手动将constructor指向函数*
*可以用constructor区分值的类型，但是由于其是可写的，因此不准确*



## 原型链
当我们调用一个对象的属性或者方法的时：
1. 首先会在该对象自身上查找
2. 如果自身没有找到，找该对象的\__proto__(也就是该对象的构造函数的prototype)上找
3. 如果构造函数的prototype没有找到，找这个prototype的\__proto__(這个prototype的构造函数的prototype)上


## 属性检测

### hasOwnProperty

**作用**
用来判断某个对象是否含有指定的自身属性
**语法**
object.hasOwnProperty(prop)
**参数**
prop
要检测的属性名称。	
**返回值**
返回boolean值
true：自身属性
false：不为自身属性
*注意：不会沿着原型链查找属性，只查找自身属性*

