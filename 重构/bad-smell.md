# 代码的坏味道

## 神秘命名（Mysterious Name）
- 整洁代码最重要的一环就是**好的名字**
- 好的名字要清晰地表明自己的功能和用法

### 手法
- 改变函数声明（124）
- 变量改名（137）
- 字段改名（244）

### tips
如果想不出一个好名字，说明背后可能潜藏这更深的设计问题，此时推动我们对代码进行精简。

## 重复代码（Duplicated Code）

- 如果在一个以上的地点看到相同的代码结构，设法将他们合而为一。
- 留意细微差异，找出所有副本来修改

### 手法
- 提炼函数（106）
- 相似不完全相同，首先尝试移动语句（223），重组代码顺序再提炼。
- 重复代码位于同一个超类不同子类中 -> 函数上移（350）

## 过长函数（Long Function）

早期 
1. 子程序调用需要额外开销，因此人们不乐意使用小函数。  
2. 阅读负担，必须时常切换上下文，才能看明白函数在做什么。  

现在  
1. 现代编程语言几乎已经完全免除了进程内的函数调用开销。
2. 现代的开发环境可以在函数调用与声明处之间快速跳转

小函数：阐释力、易于分享、更多的选择
- 分解函数
- 良好的命名

### 手法
- 提炼函数（106）
- 条件表达式
    - 分解条件表达式（260）
- 多个switch语句基于同一个条件进行分支选择
    - 多态取代条件表达式（272） 
- 循环，如果循环内做了不同的事难以拆分，使用
    - 拆分循环（227）


### tips
- 寻找注释：每当觉得需要注释来说明点什么的时候，需要说明的内容需要写进一个独立函数，以其用途（而非实现手法）命名。

## 过长参数列表（Long Parameter List）

### tips

- 向某个参数发起查询而获得另一个参数的值
    - 以查询取代参数（324）
- 现有数据结构抽出很多数据项
    - 保持对象完整（319）
- 几项参数总是同时出现，将其合并为一个对象
    - 引入参数对象（140）
- 某个参数被用作区分函数行为的标记
    - 移除标记参数（314）  
- 类
    - 函数组合成类（144）
- 做了以上操作后，仍然有大量临时变量和参数？这段from上一章节
    - 以命令取代函数（337）

### ？
部分应用函数是什么呢
以命令取代函数？

## 全局数据（Global Data）

表现  
- 全局变量
- 类变量和单例？

### 手法
- 封装变量（132）
    - 把全局数据用一个函数包装起来，控制对他的访问
    - 移动到一个类或者模块中，只允许模块内的代码使用它，从而尽量控制其作用域
