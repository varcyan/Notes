# MVVM

### MVVM中的分工

1）	View主要用于界面呈现，与用户输入设备进行交互，在code-Behind中还可以些一些UI的逻辑的，比如一些丰富的动画效果，或者直接设置某个元素的样式等，此外，设置View层的DataContext为对于的ViewModel层的逻辑也是写在code-Behind中。
2）	ViewModel是MVVM架构中最重要的部分，ViewModel中包含属性，命令，方法，事件，属性验证等逻辑，用于逻辑实现，负责View与Model之间的通信。
3）	Model就是我们常说的数据模型，用于数据的构造，数据驱动， 主要提供基础实体的属性以及每个属性的验证逻辑。
MVVM中各个模块的交互方式

### MVVM 的作用和问题

MVVM 在实际使用中，确实能够使得 Model 层和 View 层解耦，但是如果你需要实现 MVVM 中的双向绑定的话，那么通常就需要引入更多复杂的框架来实现了。

对此，MVVM 的作者 John Gossman 的 [批评](http://blogs.msdn.com/b/johngossman/archive/2006/03/04/543695.aspx) 应该是最为中肯的。John Gossman 对 MVVM 的批评主要有两点：

第一点：数据绑定使得 Bug 很难被调试。你看到界面异常了，有可能是你 View 的代码有 Bug，也可能是 Model 的代码有问题。数据绑定使得一个位置的 Bug 被快速传递到别的位置，要定位原始出问题的地方就变得不那么容易了。

第二点：对于过大的项目，数据绑定需要花费更多的内存。

某种意义上来说，我认为就是数据绑定使得 MVVM 变得复杂和难用了。但是，这个缺点同时也被很多人认为是优点。

### MVVM好处

代码层面MVVM的引入也使得项目本身变得模块清晰化，条理化，有助于我们更好地区分哪些逻辑是属于UI操作，哪些逻辑是业务操作，增强了代码的可读性、可测性。